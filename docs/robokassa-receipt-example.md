# –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —á–µ–∫–∞ –¥–ª—è Robokassa

## üìã –°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Robokassa

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —á–µ–∫–∞ (Receipt) - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
```json
{
  "sno": "osn",
  "items": [
    {
      "name": "–û–±—ã—á–Ω–∞—è —Ä—É—á–∫–∞",
      "quantity": 1,
      "sum": 400.00,
      "cost": 400.00,
      "payment_method": "full_payment",
      "payment_object": "job",
      "tax": "none",
      "nomenclature_code": "04620034587217"
    },
    {
      "name": "–ö–æ—Ä–æ–±–æ—á–∫–∞",
      "quantity": 1,
      "sum": 200.00,
      "cost": 200.00,
      "payment_method": "full_payment",
      "payment_object": "service",
      "tax": "none",
      "nomenclature_code": "04620034587218"
    },
    {
      "name": "–õ–∞–∫–∏—Ä–æ–≤–∫–∞",
      "quantity": 1,
      "sum": 150.00,
      "cost": 150.00,
      "payment_method": "full_payment",
      "payment_object": "service",
      "tax": "none",
      "nomenclature_code": "04620034587219"
    },
    {
      "name": "–ù–∞–¥–ø–∏—Å—å",
      "quantity": 1,
      "sum": 50.00,
      "cost": 50.00,
      "payment_method": "full_payment",
      "payment_object": "service",
      "tax": "none",
      "nomenclature_code": "04620034587220"
    }
  ]
}
```

**–ò—Ç–æ–≥–æ:** 800.00 —Ä—É–±–ª–µ–π (400 + 200 + 150 + 50)

## üí∞ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:
- **–¶–µ–Ω–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞** = —Å—É–º–º–∞ –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∏ –æ–ø—Ü–∏–π
- **–í —á–µ–∫–µ** –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- **–ù–µ—Ç –±–∞–∑–æ–≤–æ–π —É—Å–ª—É–≥–∏** - —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- **–ö–∞–∂–¥—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å** –ø–ª–∞—Ç–∏—Ç —Ä–∞–∑–Ω—É—é —Å—É–º–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±–æ—Ä–∞

### –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞:
```
–†–æ–¥–∏—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞:
‚îú‚îÄ‚îÄ –û–±—ã—á–Ω–∞—è —Ä—É—á–∫–∞: 400 —Ä—É–±.
‚îú‚îÄ‚îÄ –ö–æ—Ä–æ–±–æ—á–∫–∞: 200 —Ä—É–±.
‚îú‚îÄ‚îÄ –õ–∞–∫–∏—Ä–æ–≤–∫–∞: 150 —Ä—É–±.
‚îî‚îÄ‚îÄ –ù–∞–¥–ø–∏—Å—å: 50 —Ä—É–±.
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò—Ç–æ–≥–æ: 800 —Ä—É–±.
```

### –í —á–µ–∫–µ –±—É–¥–µ—Ç:
- 4 –ø–æ–∑–∏—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ)
- –°—É–º–º–∞ –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ = —Ü–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
- –û–±—â–∞—è —Å—É–º–º–∞ = 800 —Ä—É–±.

## üîç –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
- **`name`** - –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞/—É—Å–ª—É–≥–∏ (–º–∞–∫—Å–∏–º—É–º 128 —Å–∏–º–≤–æ–ª–æ–≤)
- **`quantity`** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
- **`sum`** - –ü–æ–ª–Ω–∞—è —Å—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö –∑–∞ –≤—Å–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞
- **`tax`** - –ù–∞–ª–æ–≥–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (`none`, `vat0`, `vat10`, `vat20`, etc.)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ–ª—è:
- **`cost`** - –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ (–≤–º–µ—Å—Ç–æ sum)
- **`payment_method`** - –°–ø–æ—Å–æ–± —Ä–∞—Å—á–µ—Ç–∞ (`full_payment`, `full_prepayment`, etc.)
- **`payment_object`** - –ü—Ä–µ–¥–º–µ—Ç —Ä–∞—Å—á–µ—Ç–∞ (`job`, `service`, `commodity`, etc.)
- **`nomenclature_code`** - –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–∞ (–¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ–¥–ª–µ–∂–∞—â–∏—Ö –º–∞—Ä–∫–∏—Ä–æ–≤–∫–µ)

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è:
- **`sno`** - –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è (`osn`, `usn_income`, `usn_income_outcome`, etc.)

## üéØ –ù–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –î–ª—è –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤:
- **`payment_method`**: `full_payment` (–ø–æ–ª–Ω—ã–π —Ä–∞—Å—á–µ—Ç)
- **`payment_object`**: `job` (—Ä–∞–±–æ—Ç–∞)
- **`tax`**: `none` (–±–µ–∑ –ù–î–° –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª—É–≥)

### –î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª—É–≥:
- **`payment_method`**: `full_payment` (–ø–æ–ª–Ω—ã–π —Ä–∞—Å—á–µ—Ç)
- **`payment_object`**: `service` (—É—Å–ª—É–≥–∞)
- **`tax`**: `none` (–±–µ–∑ –ù–î–°)

### –î–ª—è —Ç–æ–≤–∞—Ä–æ–≤ (—Ä—É—á–∫–∏):
- **`payment_method`**: `full_payment` (–ø–æ–ª–Ω—ã–π —Ä–∞—Å—á–µ—Ç)
- **`payment_object`**: `job` (—Ä–∞–±–æ—Ç–∞)
- **`tax`**: `none` (–±–µ–∑ –ù–î–°)

## ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ–∫–∞

1. **–í —á–µ–∫–µ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –ø–æ–∑–∏—Ü–∏—è** ‚úÖ
2. **–í–æ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏—è—Ö —É–∫–∞–∑–∞–Ω–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ** ‚úÖ
3. **–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤** ‚úÖ
4. **–î–ª–∏–Ω–∞ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –Ω–µ –±–æ–ª–µ–µ 128 —Å–∏–º–≤–æ–ª–æ–≤** ‚úÖ
5. **–¶–µ–Ω–∞ –∏ —Å—É–º–º–∞ –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è** ‚úÖ
6. **–û–±—â–∞—è —Å—É–º–º–∞ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π –±–æ–ª—å—à–µ –Ω—É–ª—è** ‚úÖ
7. **–°—É–º–º–∞ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π —Ä–∞–≤–Ω–∞ —Å—É–º–º–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚úÖ
8. **–í—Å–µ –ø–æ–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** ‚úÖ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```typescript
const receiptJson = JSON.stringify(receipt);
const receiptEncoded = encodeURIComponent(receiptJson);
```

### –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏:
```
MerchantLogin:OutSum:InvId:Receipt:Password1:Shp_invoice_id=value:Shp_participant=value
```

### –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ–æ—Ä–º–µ:
```typescript
const formData = {
    MerchantLogin: this.config.merchantLogin,
    OutSum: outSum,
    InvoiceID: invId.toString(),
    Description: descriptionEncoded,
    SignatureValue: signature,
    Receipt: receiptEncoded, // URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON
    Shp_invoice_id: data.invoiceId,
    Shp_participant: encodeURIComponent(data.participantName)
};
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-02  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Robokassa  
**–í–µ—Ä—Å–∏—è:** 1.0
